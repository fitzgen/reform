<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <title>Reform</title>

    <link rel="stylesheet" href="style.css" type="text/css" />
    <link rel="stylesheet" href="sh_darkness.min.css" type="text/css" />

  </head>

  <body>
    <a href="http://github.com/fitzgen/reform">
      <img style="position: absolute; top: 0; right: 0; border: 0;"
           src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
           alt="Fork me on GitHub" />
    </a>

    <div id="container">

      <div class="download">
        <a href="http://github.com/fitzgen/reform/zipball/master">
          <img border="0" width="90" src="http://github.com/images/modules/download/zip.png" />
        </a>
        <a href="http://github.com/fitzgen/reform/tarball/master">
          <img border="0" width="90" src="http://github.com/images/modules/download/tar.png" />
        </a>
      </div>

      <h1>
        <a href="http://github.com/fitzgen/reform">reform</a>
        <span class="small">by <a href="http://github.com/fitzgen">fitzgen</a></span>
      </h1>

      <div class="description">
        A Narwhal module for working with HTML forms, similar to Django's forms.
      </div>

      <h2>Install</h2>

      <p>
        First, <a href="http://narwhaljs.org/quick-start.html">install Narwhal</a>.
      </p>

      <p>
        Once you have Narwhal up and running, just use <code>tusk</code>:
      </p>

      <pre>tusk install reform</pre>

      <p>
        And you're ready to go!
      </p>

      <h2>Hello, Form!</h2>
      <pre class="sh_javascript">var REFORM = require("reform");

// Define a form by describing the data, not almost arbitrary HTML.
var helloForm = REFORM.Form({
    name: REFORM.TextField()
});

// Get some unvalidated data from somewhere, maybe an HTTP POST.
helloForm.bindData(unvalidatedData);

if (helloForm.isValid()) {
    print("Hello, " + helloForm.cleanedData.name + "!");
}</pre>

      <p>
        Pretty easy, huh? But check this out: just about every method call is
        chainable (where it makes sense). We can rewrite that example if we
        wanted to be cool and do everything in as few keystrokes as possible:
      </p>

      <pre class="sh_javascript">var REFORM = require("reform");

if (REFORM.Form({ name: REFORM.TextField() })
          .bindData(unvalidatedData)
          .isValid())
{
    print("Hello, " + helloForm.cleanedData.name + "!");
}</pre>

      <p>
        For another generally lighthearted illustration of using reform, check
        out <a href="http://github.com/fitzgen/reform/blob/master/examples/survey.js">this
        example</a>.
      </p>

      <h2>Pre-defined Fields</h2>

      <p>
        All form fields are require-able from Reform's top level namespace. For
        example, <code>var TextField = require("reform").TextField</code>.
      </p>

      <dl>

        <dt><code>TextField</code></dt>
        <dd>A field that takes arbitrary text input. Renders as an <code>input
        type="text"</code></dd>

        <dt><code>TextAreaField</code></dt>
        <dd>The same as a <code>TextField</code>, but renders to
        a <code>textarea</code></dd>

        <dt><code>EmailField</code></dt>
        <dd>A field that validates that the input is a valid email. Renders as
        an <code>input type="text"</code></dd>

        <dt><code>PasswordField</code></dt>
        <dd>A field that takes arbitrary text input, but hides it visually
        because it is an <code>input type="password"</code>.</dd>

        <dt><code>IntegerField</code></dt>
        <dd>A text input whose validated data will be coerced to a number via
        <code>parseInt</code> (base 10), and throws a validation error if there
        are any non digit characters in the input.</dd>

        <dt><code>Button</code></dt>
        <dd>A simple submit button.</dd>

      </dl>

      <h2>Pre-defined multiple choice fields</h2>

      <p>
        Multiple choice fields are also require-able from Reform's top level
        namespace and behave almost identically to other types of fields. The
        only difference is specifying the choices. To define the available
        choices, pass a list of <code>[&lt;value>, &lt;label>]</code> pairs to
        the form's initial options. For example:
      </p>

      <pre class="sh_javascript">var seasons = require("reform").DropdownField({
    choices: [
        ["su", "Summer"],
        ["f", "Fall"],
        ["w", "Winter"],
        ["sp", "Spring"]
    ]
})</pre>

      <dl>

        <dt><code>RadioChoiceField</code></dt>
        <dd>A multiple choice field where only one option may be
        selected. Renders to radio buttons.</dd>

        <dt><code>DropdownField</code></dt>
        <dd>A multiple choice field where only one option may be
        selected. Renders to a dropdown menu.</dd>

        <dt><code>CheckMultipleField</code></dt>
        <dd>A multiple choice field where more than one option can be
        selected. Renders as checkboxes.</dd>

      </dl>

      <h2>Writing custom form fields</h2>

      <p>TODO</p>

      <h2>Customizing the rendered HTML of forms and fields</h2>

      <p>
        This is as easy as defining a template and binding it
        to <code>field.template</code> for whichever field you wish to
        customize. Forms don't have their own templates, they are represented in
        HTML as just the sum of their fields' rendered markup.
      </p>

      <p>
        To get an idea of what the templates should look like and how to use
        them, just inspect the default templates in a REPL session.
      </p>

      <pre class="sh_javascript">$ js
Rhino 1.7 release 3 PRERELEASE 2009 12 12
js> reform = require("reform")
[object Object]
js> form = reform.Form({
  >     name: reform.TextField({
  >         helpText: "Please enter your name."
  >     })
  > })
[object reform.Form]
js> form.fields.name.template
&lt;((tag))>
  &lt;label for="id_((name))">((label))&lt;/label>
  ((helpText))
  ((error))
  &lt;input type="((inputType))"
         name="((name))"
         id="id_((name))"
         value="((value))" />
&lt;/((tag))>
js> form.toHtml()
&lt;li>
  &lt;label for="id_name">Name&lt;/label>
  &lt;p class='form-help-text'>Please enter your name.&lt;/p>

  &lt;input type="text"
         name="name"
         id="id_name"
         value="" />
&lt;/li></pre>

      <p>
        You can specify what type of tag wraps the form field by passing the tag
        name as an argument to <code>form.toHtml</code>.
      </p>

      <pre class="sh_javascript">js> form.toHtml("div")
&lt;div>
  &lt;label for="id_name">Name&lt;/label>
  &lt;p class='form-help-text'>Please enter your name.&lt;/p>

  &lt;input type="text"
         name="name"
         id="id_name"
         value="" />
&lt;/div></pre>

      <h2>Form properties</h2>

      <dl>

        <dt><code>form.fields</code></dt>
        <dd>
          An object containing the fields that make up this form. This is where
          the argument that you pass to the <code>Form</code> constructor gets
          stored.
        </dd>

        <dt><code>form.isBound</code></dt>
        <dd>
          A boolean reflecting whether or not this form has been bound to data
          yet. See <code>form.bindData()</code> for more information.
        </dd>

        <dt><code>form.prefix</code></dt>
        <dd>
          A string that will be concatenated to each fields' name when rendering
          to avoid namespace collisions when rendering multiple clones of the
          same field to one HTML page. Defaults to an empty string. See
          also <code>form.clone()</code>.
        </dd>

        <dt><code>form.errors</code></dt>
        <dd>
          Only exists after you call <code>form.isValid()</code> and only if
          there are validation errors. This is an object where each property
          name corresponds to a field in <code>form.fields</code> and the
          property's value is a validation error message as a string.
        </dd>

        <dt><code>form._name</code></dt>
        <dd>
          String. Used for the <code>toString</code> representation of a
          form. Defaults to "Form".
        </dd>

      </dl>

      <h2>Form methods</h2>

      <p>TODO</p>

      <h2>Field properties</h2>

      <p>TODO</p>

      <h2>Field methods</h2>

      <p>TODO</p>

      <h2>Authors</h2>

      <p><a href="http://fitzgeraldnick.com/">Nick Fitzgerald</a></p>

      <h2>MIT Licensed</h2>

      <p>
        Copyright (c) 2010 Nick Fitzgerald
      </p>

      <p>
        Permission is hereby granted, free of charge, to any person obtaining a copy
        of this software and associated documentation files (the "Software"), to deal
        in the Software without restriction, including without limitation the rights
        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
        copies of the Software, and to permit persons to whom the Software is
        furnished to do so, subject to the following conditions:
      </p>

      <p>
        The above copyright notice and this permission notice shall be included in
        all copies or substantial portions of the Software.
      </p>

      <p>
        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
        THE SOFTWARE.
      </p>

    </div>

    <script type="text/javascript" src="sh_main.min.js"></script>
    <script type="text/javascript" src="sh_javascript.min.js"></script>
    <script type="text/javascript">
      sh_highlightDocument();
    </script>

    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-13164495-1");
      pageTracker._trackPageview();
      } catch(err) {}</script>
  </body>
</html>
